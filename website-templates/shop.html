<!DOCTYPE html>
<html lang="en">
<head>
    <title>Campmart | Shop</title>

    <link rel="stylesheet" href="../website-pub/css/style.css">

    <!--Font awesome cdn-->
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css">
    <!---->

    <!--Jquery ui css cdn-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.structure.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.theme.min.css">
    <!---->
</head>
<body>

    <section id="header">
        <a href="#">
            <img src="../website-pub/images/static/site-logo.jpeg" alt="">
        </a>

        <form action="/search" method="post">
            <input type="text" name="" id="searchInput" placeholder="What would you like to buy today?" style="width: 300px; height: 50px; border-top-left-radius:10px; border-bottom-left-radius:10px; border: none; outline: none; padding: 0 10px; font-size: 15px;">
            <input type="submit" name="" value="Go" style="background-color: #088187; height: 50px; width: 50px;border-top-right-radius:10px;border-bottom-right-radius:10px; border: none; color: white; cursor: pointer;">
        </form>

        <div>
            <ul id="navbar">
                <li><a href="/home">Home</a></li>
                <li><a class="active" href="/shop">Shop</a></li>
                <li><a href="/blog">Blog</a></li>
                <li><a href="/about">About</a></li>
                <li><a href="/contact">Contact</a></li>
                <li id="lg-bag"><a href="/cart"><i class="far fa-shopping-cart"></i></a></li>
                <a href="#" id="close"><i class="far fa-times"></i></a>
            </ul>
        </div>
        <div id="mobile">
            <a href="/cart"><i class="far fa-shopping-cart"></i></a>
            <i id="bar" class="fas fa-outdent"></i>
        </div>
    </section> 
    
    <section id="page-header">
        <h2>#Your One Stop Shop On Campus</h2>
        <!-- <p>Students friendly prices</p> -->
    </section>

    <section id="product1" class="section-p1">
        <div class="pro-container">

            {{range .}}
            <div class="pro" >
                <img src="../website-pub/images/products/{{index .Image_names 0}}" alt onclick="window.location.href='/single-product/{{.Id}}';">

                <div class="des">
                    <span>{{.Brand}}</span>
                    <h5><a href="/single-product/{{.Id}}" style="text-decoration: none; color: black;">{{.Name}}</a></h5>
                    {{$rating := .Rating}}
                    <div class="star">
                    {{if eq $rating 1}}                    
                        <i class="fas fa-star"></i> 
                    {{else if eq $rating 2}}
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i> 
                    {{else if eq $rating 3}}
                        <i class="fas fa-star"></i> 
                        <i class="fas fa-star"></i> 
                        <i class="fas fa-star"></i> 
                    {{else if eq $rating 4}}
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i> 
                    {{else}}
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>                   
                    {{end}}
                    </div>
                    <h4>NGN{{.Price}}</h4>
                </div>
                <a class="cart-link" value="{{.Id}}"><i class="fal fa-shopping-cart cart"> </i></a>
            </div>    
            {{end}}
            
        </div>
    </section>  

    <section id="pagination" class="section-p1">
        <!-- <a href="#">1</a> -->
        <a href="/shop/previous"><i class="fal fa-long-arrow-left"></i></a>
        <a href="/shop/next"><i class="fal fa-long-arrow-right"></i></a>
    </section>

    <section id="newsletter" class="section-p1 section-m1">
        <div class="newstext">
            <h4>Sign Up For Newsletter</h4>
            <p>Get E-mail updates about our latest products and <span>special offers.</span></p>
        </div>

        <div class="form">
            <input type="text" name="" id="newsletter-form" placeholder="Your E-mail address">
            <button class="normal" type="submit" id="subscription-button">Sign Up</button>
        </div>
    </section>

    <footer class="section-p1">
        <div class="col">
            <img src="../website-pub/images/static/site-logo.jpeg" alt="">
            <h4>Contact</h4>
            <p><strong>Address: </strong> 123, Jaja of Opobo street, Lagos</p>
            <p><strong>Phone: </strong> +234 812 345 6789</p>
            <p><strong>Hours: </strong> 07:00 - 19:00 Mon - Sun</p>

            <div class="follow">
                <h4>Follow us</h4>
                <div class="icon">
                    <i class="fab fa-facebook-f"></i>
                    <!-- <i class="fab fa-twitter"></i> -->
                    <i class="fab fa-instagram"></i>
                </div>
            </div>
        </div>

        <div class="col">
            <h4>About</h4>
            <a href="/about">About Us</a>
            <a class="di">Delivery Information</a>
            <a class="pp">Privacy Policy</a>
            <a class="tc">Terms & Conditions</a>
            <a href="/contact">Contact Us</a>
        </div>

        <div class="col">
            <h4>My Account</h4>
            <a href="#newsletter">Sign Up For Newletter</a>
            <!-- <a href="login.html">Login</a>
            <a href="#">Logout</a> -->
            <a href="/cart">View Cart</a>
            <!-- <a href="#">My Whislist</a>
            <a href="#">Track My Order</a> -->
        </div>
 
        <!-- <div class="col install">
            <h4>Install Mobile App</h4>
            <p>From App Store or Google Play</p>
            <div class="row">
                <a href="#">
                    <img src="../website-pub/images/static/app-store.jpg" alt="">
                </a>
                <a href="#">
                    <img src="../website-pub/images/static/google-play.jpg" alt="">
                </a>
            </div>
            <p>Secured Payment Gateways</p>
            <img src="../website-pub/images/static/debit-cards.png" alt="">             
        </div> -->

        <div class="copyright">
            <p>&copy; 2022, Campmart, All rights reserved.</p>
        </div>
    </footer>

    <section class="tandc" title="Terms and Conditions">
        <div>
            <h3>As a seller</h3>
            <ul>
                <li>Term and Condition 1</li>
                <li>Term and Condition 2</li>
                <li>Term and Condition 3</li>
                <li>Term and Condition 4</li>
            </ul>
        </div>

        <div>
            <h3>As a Buyer</h3>
            <ul>
                <li>Term and Condition 1</li>
                <li>Term and Condition 2</li>
                <li>Term and Condition 3</li>
                <li>Term and Condition 4</li>
            </ul>
        </div>
    </section>
    
    <section class="privacy" title="Privacy Policy">
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Rerum cumque totam inventore vel iste dignissimos dolorem odit necessitatibus. Doloremque pariatur corporis nisi, dolorem placeat deserunt earum deleniti quas facilis quos!
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Dicta eius tempora, eaque earum debitis dolor aspernatur quod officiis eum doloremque voluptates ducimus voluptas blanditiis vero at quas quasi, reprehenderit labore?
    </section>

    <section class="delInfo" title="Delivery Information">
        <h3>How do we deliver your package ?</h3>
        <ul>
            <li>Step 1</li>
            <li>Step 2</li>
            <li>Step 3</li>
            <li>Step 4</li>
        </ul>
    </section>

    <!--Vanilla JS-->
    <script src="../website-pub/js/script.js"></script>
    <script src="../website-pub/js/subscribe-to-newsletter.js"></script>
    <!---->

    <!--Jquery ui js cdn-->
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <!---->

    <!--Jquery script-->
    <script>
        $('.tc').click(function() {
            $('.tandc').css('display', 'block');

            $('.tandc').dialog({
                draggable: false,
                modal: true,
                resizable:true,
                height: 400,
                width: 300,

                buttons: [
                    {
                        text: "I Agree",
                        icon: 'ui-icon-check',
                        click: function() {
                            $(this).dialog('close')
                        },
                    },
                ]
            });
        })

        $('.pp').click(function() {
            $('.privacy').css('display', 'block');

            $('.privacy').dialog({
                draggable: false,
                modal: true,
                resizable:true,
                height: 300,
                width: 500,

                buttons: [
                    {
                        text: "Ok",
                        icon: 'ui-icon-check',
                        click: function() {
                            $(this).dialog('close')
                        },
                    },
                ]
            });
        })

        $('.di').click(function() {
            $('.delInfo').css('display', 'block');

            $('.delInfo').dialog({
                draggable: false,
                modal: true,
                resizable:true,
                height: 300,
                width: 300,

                buttons: [
                    {
                        text: "Ok",
                        icon: 'ui-icon-check',
                        click: function() {
                            $(this).dialog('close')
                        },
                    },
                ]
            });
        })
    </script>

    <script>
        let searchInput = document.querySelector('#searchInput');

        var src = [];

        searchInput.addEventListener('input', () => {
            src.splice(0, src.length);

            let xhr = new XMLHttpRequest();

            xhr.open("POST", "/searchtry", true);

            console.log(searchInput.value)

            xhr.send(searchInput.value); 

            xhr.onreadystatechange = function() {
                if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
                    let resp = JSON.parse(xhr.responseText);
                    resp.forEach(val => {
                        src.push(val)
                    });
                };            
            }
        })

        $("#searchInput").autocomplete({
            source: src,
            minLength: 2,
        })
        
    </script>
    <!---->
</body>
</html>